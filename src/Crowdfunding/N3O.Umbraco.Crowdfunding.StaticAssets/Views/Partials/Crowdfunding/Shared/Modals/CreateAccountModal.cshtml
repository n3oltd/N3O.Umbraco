@using N3O.Umbraco.Accounts.Content
@using N3O.Umbraco.Content

@model SelectAccountViewModel

@inject IPartialText PartialText
@inject IContentCache ContentCache

@{
    PartialText.SetPartialName("CrowdfundingCreateAccountModal");
}

<div class="modalsItem modall" id="newAccount-modal">
    <div class="newAccount__wrapper" style="margin: auto; width: 90vw">
        <div class="newAccount" id="newAccount">
            <div class="newAccount__head">
                <h4>@PartialText.Get("Create an Account")</h4>
                
                <div class="detail">
                    @PartialText.Get("We could not find an existing account with the email {0}. To proceed, please create a new account by completing the form below.").FormatWith(Model.Email)
                </div>
            </div>
            
            <div class="newAccount__body">
                <form id="create-account-form" method="post" action="" autocomplete="on">
                    @Html.CrowdfundingPartial("/Views/Partials/Crowdfunding/Shared/Forms/Account.cshtml", Model)

                    <button type="button" class="button primary" id="newAccountBtn">
                        @PartialText.Get("Create Account")
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="/assets/js/newAccount.js"></script>

<script type="text/javascript">
    @Html.Raw(ContentCache.Single<DataEntrySettingsContent>().JavaScript)
    createAccount()
</script>