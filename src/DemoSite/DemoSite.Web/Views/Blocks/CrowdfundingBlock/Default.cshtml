@using N3O.Umbraco.Crowdfunding

@inject IEnumerable<ICrowdfundingPage> CrowdfundingPages

@foreach (var crowdfundingPage in CrowdfundingPages) {
    if (crowdfundingPage.IsMatch(Context.Request.Path)) {
        var viewModel = await crowdfundingPage.GetViewModelAsync(crowdfundingPagePath)

        await Html.RenderPartialAsync($"~/Views/Partials/Crowdfunding/{crowdfundingPage.ViewName}.cshtml", viewModel);
    }
}