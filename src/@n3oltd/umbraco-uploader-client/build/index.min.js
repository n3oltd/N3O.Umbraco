var __extends=this&&this.__extends||function(){var n=function(e,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};return function(e,r){function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}(),UploaderClient=function(){function e(e,r){this.jsonParseReviver=void 0,this.http=r||window,this.baseUrl=null!=e?e:"https://localhost:6001"}return e.prototype.getMediaById=function(e){var r=this,t=this.baseUrl+"/umbraco/backoffice/Uploader/media/{mediaId}";if(null==e)throw new Error("The parameter 'mediaId' must be defined.");t=(t=t.replace("{mediaId}",encodeURIComponent(""+e))).replace(/[?&]$/,"");return this.http.fetch(t,{method:"GET",headers:{Accept:"application/json"}}).then(function(e){return r.processGetMediaById(e)})},e.prototype.processGetMediaById=function(e){var t=this,n=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach(function(e,r){return o[r]=e}),200===n?e.text().then(function(e){return""===e?null:JSON.parse(e,t.jsonParseReviver)}):400===n?e.text().then(function(e){var r=""===e?null:JSON.parse(e,t.jsonParseReviver);return throwException("A server side error occurred.",n,e,o,r)}):500===n?e.text().then(function(e){return throwException("A server side error occurred.",n,e,o)}):404===n?e.text().then(function(e){var r=""===e?null:JSON.parse(e,t.jsonParseReviver);return throwException("A server side error occurred.",n,e,o,r)}):200!==n&&204!==n?e.text().then(function(e){return throwException("An unexpected server error occurred.",n,e,o)}):Promise.resolve(null)},e.prototype.upload=function(e,r,t,n,o,i,s,c){var p=this,a=(a=this.baseUrl+"/umbraco/backoffice/Uploader/upload").replace(/[?&]$/,""),u=new FormData;return null!=e&&u.append("AllowedExtensions",e.toString()),null!=r&&u.append("ImagesOnly",r.toString()),null!=t&&u.append("MaxFileSizeMb",t.toString()),null!=n&&u.append("MaxHeight",n.toString()),null!=o&&u.append("MaxWidth",o.toString()),null!=i&&u.append("MinHeight",i.toString()),null!=s&&u.append("MinWidth",s.toString()),null!=c&&u.append("File",c.data,c.fileName||"File"),this.http.fetch(a,{body:u,method:"POST",headers:{Accept:"application/json"}}).then(function(e){return p.processUpload(e)})},e.prototype.processUpload=function(e){var t=this,n=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach(function(e,r){return o[r]=e}),200===n?e.text().then(function(e){return""===e?null:JSON.parse(e,t.jsonParseReviver)}):400===n?e.text().then(function(e){var r=""===e?null:JSON.parse(e,t.jsonParseReviver);return throwException("A server side error occurred.",n,e,o,r)}):500===n?e.text().then(function(e){return throwException("A server side error occurred.",n,e,o)}):200!==n&&204!==n?e.text().then(function(e){return throwException("An unexpected server error occurred.",n,e,o)}):Promise.resolve(null)},e.prototype.getResponse=function(e,r){var t=this,n=this.baseUrl+"/umbraco/backoffice/Uploader?";if(null!=e&&(n+="storagePath="+encodeURIComponent(""+e)+"&"),null===r)throw new Error("The parameter 'filesizeBytes' cannot be null.");void 0!==r&&(n+="filesizeBytes="+encodeURIComponent(""+r)+"&");n=n.replace(/[?&]$/,"");return this.http.fetch(n,{method:"GET",headers:{Accept:"application/json"}}).then(function(e){return t.processGetResponse(e)})},e.prototype.processGetResponse=function(e){var t=this,n=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach(function(e,r){return o[r]=e}),200===n?e.text().then(function(e){return""===e?null:JSON.parse(e,t.jsonParseReviver)}):400===n?e.text().then(function(e){var r=""===e?null:JSON.parse(e,t.jsonParseReviver);return throwException("A server side error occurred.",n,e,o,r)}):500===n?e.text().then(function(e){return throwException("A server side error occurred.",n,e,o)}):200!==n&&204!==n?e.text().then(function(e){return throwException("An unexpected server error occurred.",n,e,o)}):Promise.resolve(null)},e}(),ApiException=function(s){function e(e,r,t,n,o){var i=s.call(this)||this;return i.isApiException=!0,i.message=e,i.status=r,i.response=t,i.headers=n,i.result=o,i}return __extends(e,s),e.isApiException=function(e){return!0===e.isApiException},e}(Error);function throwException(e,r,t,n,o){throw null!=o?o:new ApiException(e,r,t,n,null)}export{UploaderClient,ApiException};